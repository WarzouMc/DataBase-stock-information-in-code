plugins {
    id 'java'
    id 'maven'
    id 'com.github.johnrengelman.shadow' version '5.1.0'
}

project.group = 'fr.warzou'
project.version = '2.0.0'

allprojects {
    apply plugin: 'java'
    apply plugin: 'maven'

    project.targetCompatibility = 1.8
    project.sourceCompatibility = 1.8

    compileJava {
        targetCompatibility = 1.8
        sourceCompatibility = 1.8
    }

    jar {
        manifest {
            attributes 'Main-Class': 'fr.warzou.test.DatabaseInternalMain'
        }
    }

    repositories {
        mavenCentral()
        mavenLocal()
    }
}

dependencies {
    compile 'org.jetbrains:annotations:20.1.0'
    implementation group: 'org.jooq', name: 'jooq', version: '3.14.4'
    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.22'
}

shadowJar {
    configurations = [project.configurations.compile]
}